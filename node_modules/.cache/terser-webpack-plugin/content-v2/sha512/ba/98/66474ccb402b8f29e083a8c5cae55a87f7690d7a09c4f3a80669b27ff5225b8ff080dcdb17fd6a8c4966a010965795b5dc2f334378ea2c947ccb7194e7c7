{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{679:function(e,t,a){\"use strict\";a.r(t);var n=a(1),r=a.n(n),l=a(41),o=a(683),s=a(3),c=a(8),m=a(256),i=a(5),u=a(2),d=a(9),g=a(26),E=20,p=a(146),h=function(e){function UserManagement(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=s.a({},Object(u.getSortState)(t.props.location,E)),t.sort=function(e){return function(){t.setState({order:\"asc\"===t.state.order?\"desc\":\"asc\",sort:e},function(){return t.sortUsers()})}},t.handlePagination=function(e){return t.setState({activePage:e},function(){return t.sortUsers()})},t.getUsers=function(){var e=t.state,a=e.activePage,n=e.itemsPerPage,r=e.sort,l=e.order;t.props.getUsers(a-1,n,r+\",\"+l)},t.toggleActive=function(e){return function(){t.props.updateUser(s.a({},e,{activated:!e.activated}))}},t}return s.c(UserManagement,e),UserManagement.prototype.componentDidMount=function(){this.getUsers()},UserManagement.prototype.sortUsers=function(){this.getUsers(),this.props.history.push(this.props.location.pathname+\"?page=\"+this.state.activePage+\"&sort=\"+this.state.sort+\",\"+this.state.order)},UserManagement.prototype.render=function(){var e=this,t=this.props,a=t.users,n=t.account,l=t.match,o=t.totalItems;return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",{id:\"user-management-page-heading\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.home.title\"},\"Users\"),r.a.createElement(m.a,{to:l.url+\"/new\",className:\"btn btn-primary float-right jh-create-entity\"},r.a.createElement(d.a,{icon:\"plus\"}),\" \",r.a.createElement(u.Translate,{contentKey:\"userManagement.home.createLabel\"},\"Create a new user\"))),r.a.createElement(i.Table,{responsive:!0,striped:!0},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{className:\"hand\",onClick:this.sort(\"id\")},r.a.createElement(u.Translate,{contentKey:\"global.field.id\"},\"ID\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",{className:\"hand\",onClick:this.sort(\"login\")},r.a.createElement(u.Translate,{contentKey:\"userManagement.login\"},\"Login\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",{className:\"hand\",onClick:this.sort(\"email\")},r.a.createElement(u.Translate,{contentKey:\"userManagement.email\"},\"Email\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",null),r.a.createElement(\"th\",{className:\"hand\",onClick:this.sort(\"langKey\")},r.a.createElement(u.Translate,{contentKey:\"userManagement.langKey\"},\"Lang Key\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.profiles\"},\"Profiles\")),r.a.createElement(\"th\",{className:\"hand\",onClick:this.sort(\"createdDate\")},r.a.createElement(u.Translate,{contentKey:\"userManagement.createdDate\"},\"Created Date\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",{className:\"hand\",onClick:this.sort(\"lastModifiedBy\")},r.a.createElement(u.Translate,{contentKey:\"userManagement.lastModifiedBy\"},\"Last Modified By\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",{id:\"modified-date-sort\",className:\"hand\",onClick:this.sort(\"lastModifiedDate\")},r.a.createElement(u.Translate,{contentKey:\"userManagement.lastModifiedDate\"},\"Last Modified Date\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",null))),r.a.createElement(\"tbody\",null,a.map(function(t,a){return r.a.createElement(\"tr\",{id:t.login,key:\"user-\"+a},r.a.createElement(\"td\",null,r.a.createElement(i.Button,{tag:m.a,to:l.url+\"/\"+t.login,color:\"link\",size:\"sm\"},t.id)),r.a.createElement(\"td\",null,t.login),r.a.createElement(\"td\",null,t.email),r.a.createElement(\"td\",null,t.activated?r.a.createElement(i.Button,{color:\"success\",onClick:e.toggleActive(t)},\"Activated\"):r.a.createElement(i.Button,{color:\"danger\",onClick:e.toggleActive(t)},\"Deactivated\")),r.a.createElement(\"td\",null,t.langKey),r.a.createElement(\"td\",null,t.authorities?t.authorities.map(function(e,t){return r.a.createElement(\"div\",{key:\"user-auth-\"+a+\"-\"+t},r.a.createElement(i.Badge,{color:\"info\"},e))}):null),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:t.createdDate,type:\"date\",format:g.a,blankOnInvalid:!0})),r.a.createElement(\"td\",null,t.lastModifiedBy),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:t.lastModifiedDate,type:\"date\",format:g.a,blankOnInvalid:!0})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(\"div\",{className:\"btn-group flex-btn-group-container\"},r.a.createElement(i.Button,{tag:m.a,to:l.url+\"/\"+t.login,color:\"info\",size:\"sm\"},r.a.createElement(d.a,{icon:\"eye\"}),\" \",r.a.createElement(\"span\",{className:\"d-none d-md-inline\"},r.a.createElement(u.Translate,{contentKey:\"entity.action.view\"},\"View\"))),r.a.createElement(i.Button,{tag:m.a,to:l.url+\"/\"+t.login+\"/edit\",color:\"primary\",size:\"sm\"},r.a.createElement(d.a,{icon:\"pencil-alt\"}),\" \",r.a.createElement(\"span\",{className:\"d-none d-md-inline\"},r.a.createElement(u.Translate,{contentKey:\"entity.action.edit\"},\"Edit\"))),r.a.createElement(i.Button,{tag:m.a,to:l.url+\"/\"+t.login+\"/delete\",color:\"danger\",size:\"sm\",disabled:n.login===t.login},r.a.createElement(d.a,{icon:\"trash\"}),\" \",r.a.createElement(\"span\",{className:\"d-none d-md-inline\"},r.a.createElement(u.Translate,{contentKey:\"entity.action.delete\"},\"Delete\"))))))}))),r.a.createElement(i.Row,{className:\"justify-content-center\"},r.a.createElement(u.JhiPagination,{items:Object(u.getPaginationItemsNumber)(o,this.state.itemsPerPage),activePage:this.state.activePage,onSelect:this.handlePagination,maxButtons:5})))},UserManagement}(r.a.Component),v={getUsers:p.f,updateUser:p.h},f=Object(c.connect)(function(e){return{users:e.userManagement.users,totalItems:e.userManagement.totalItems,account:e.authentication.account}},v)(h),y=a(51),b=function(e){function UserManagementDetail(){return null!==e&&e.apply(this,arguments)||this}return s.c(UserManagementDetail,e),UserManagementDetail.prototype.componentDidMount=function(){this.props.getUser(this.props.match.params.login)},UserManagementDetail.prototype.render=function(){var e=this.props.user;return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.detail.title\"},\"User\"),\" [\",r.a.createElement(\"b\",null,e.login),\"]\"),r.a.createElement(i.Row,{size:\"md\"},r.a.createElement(\"dl\",{className:\"jh-entity-details\"},r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.login\"},\"Login\")),r.a.createElement(\"dd\",null,r.a.createElement(\"span\",null,e.login),\" \",e.activated?r.a.createElement(i.Badge,{color:\"success\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.activated\"},\"Activated\")):r.a.createElement(i.Badge,{color:\"danger\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.deactivated\"},\"Deactivated\"))),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.firstName\"},\"First Name\")),r.a.createElement(\"dd\",null,e.firstName),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.lastName\"},\"Last Name\")),r.a.createElement(\"dd\",null,e.lastName),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.email\"},\"Email\")),r.a.createElement(\"dd\",null,e.email),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.langKey\"},\"Lang Key\")),r.a.createElement(\"dd\",null,e.langKey?y.a[e.langKey].name:void 0),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.createdBy\"},\"Created By\")),r.a.createElement(\"dd\",null,e.createdBy),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.createdDate\"},\"Created Date\")),r.a.createElement(\"dd\",null,r.a.createElement(u.TextFormat,{value:e.createdDate,type:\"date\",format:g.a,blankOnInvalid:!0})),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.lastModifiedBy\"},\"Last Modified By\")),r.a.createElement(\"dd\",null,e.lastModifiedBy),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.lastModifiedDate\"},\"Last Modified Date\")),r.a.createElement(\"dd\",null,r.a.createElement(u.TextFormat,{value:e.lastModifiedDate,type:\"date\",format:g.a,blankOnInvalid:!0})),r.a.createElement(\"dt\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.profiles\"},\"Profiles\")),r.a.createElement(\"dd\",null,r.a.createElement(\"ul\",{className:\"list-unstyled\"},e.authorities?e.authorities.map(function(e,t){return r.a.createElement(\"li\",{key:\"user-auth-\"+t},r.a.createElement(i.Badge,{color:\"info\"},e))}):null)))),r.a.createElement(i.Button,{tag:m.a,to:\"/admin/user-management\",replace:!0,color:\"info\"},r.a.createElement(d.a,{icon:\"arrow-left\"}),\" \",r.a.createElement(\"span\",{className:\"d-none d-md-inline\"},r.a.createElement(u.Translate,{contentKey:\"entity.action.back\"},\"Back\"))))},UserManagementDetail}(r.a.Component),N={getUser:p.e},T=Object(c.connect)(function(e){return{user:e.userManagement.user}},N)(b),M=a(11),C=function(e){function UserManagementUpdate(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isNew:!t.props.match.params||!t.props.match.params.login},t.saveUser=function(e,a){t.state.isNew?t.props.createUser(a):t.props.updateUser(a),t.handleClose()},t.handleClose=function(){t.props.history.push(\"/admin/user-management\")},t}return s.c(UserManagementUpdate,e),UserManagementUpdate.prototype.componentDidMount=function(){this.state.isNew?this.props.reset():this.props.getUser(this.props.match.params.login),this.props.getRoles()},UserManagementUpdate.prototype.componentWillUnmount=function(){this.props.reset()},UserManagementUpdate.prototype.render=function(){var e=this.props,t=e.user,a=e.loading,n=e.updating,l=e.roles;return r.a.createElement(\"div\",null,r.a.createElement(i.Row,{className:\"justify-content-center\"},r.a.createElement(i.Col,{md:\"8\"},r.a.createElement(\"h1\",null,r.a.createElement(u.Translate,{contentKey:\"userManagement.home.createOrEditLabel\"},\"Create or edit a User\")))),r.a.createElement(i.Row,{className:\"justify-content-center\"},r.a.createElement(i.Col,{md:\"8\"},a?r.a.createElement(\"p\",null,\"Loading...\"):r.a.createElement(M.AvForm,{onValidSubmit:this.saveUser},t.id?r.a.createElement(M.AvGroup,null,r.a.createElement(i.Label,{for:\"id\"},r.a.createElement(u.Translate,{contentKey:\"global.field.id\"},\"ID\")),r.a.createElement(M.AvField,{type:\"text\",className:\"form-control\",name:\"id\",required:!0,readOnly:!0,value:t.id})):null,r.a.createElement(M.AvGroup,null,r.a.createElement(i.Label,{for:\"login\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.login\"},\"Login\")),r.a.createElement(M.AvField,{type:\"text\",className:\"form-control\",name:\"login\",validate:{required:{value:!0,errorMessage:Object(u.translate)(\"register.messages.validate.login.required\")},pattern:{value:\"^[_.@A-Za-z0-9-]*$\",errorMessage:Object(u.translate)(\"register.messages.validate.login.pattern\")},minLength:{value:1,errorMessage:Object(u.translate)(\"register.messages.validate.login.minlength\")},maxLength:{value:50,errorMessage:Object(u.translate)(\"register.messages.validate.login.maxlength\")}},value:t.login})),r.a.createElement(M.AvGroup,null,r.a.createElement(i.Label,{for:\"firstName\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.firstName\"},\"First Name\")),r.a.createElement(M.AvField,{type:\"text\",className:\"form-control\",name:\"firstName\",validate:{maxLength:{value:50,errorMessage:Object(u.translate)(\"entity.validation.maxlength\",{max:50})}},value:t.firstName})),r.a.createElement(M.AvGroup,null,r.a.createElement(i.Label,{for:\"lastName\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.lastName\"},\"Last Name\")),r.a.createElement(M.AvField,{type:\"text\",className:\"form-control\",name:\"lastName\",validate:{maxLength:{value:50,errorMessage:Object(u.translate)(\"entity.validation.maxlength\",{max:50})}},value:t.lastName}),r.a.createElement(M.AvFeedback,null,\"This field cannot be longer than 50 characters.\")),r.a.createElement(M.AvGroup,null,r.a.createElement(M.AvField,{name:\"email\",label:Object(u.translate)(\"global.form.email\"),placeholder:Object(u.translate)(\"global.form.email.placeholder\"),type:\"email\",validate:{required:{value:!0,errorMessage:Object(u.translate)(\"global.messages.validate.email.required\")},email:{errorMessage:Object(u.translate)(\"global.messages.validate.email.invalid\")},minLength:{value:5,errorMessage:Object(u.translate)(\"global.messages.validate.email.minlength\")},maxLength:{value:254,errorMessage:Object(u.translate)(\"global.messages.validate.email.maxlength\")}},value:t.email})),r.a.createElement(M.AvGroup,{check:!0},r.a.createElement(i.Label,null,r.a.createElement(M.AvInput,{type:\"checkbox\",name:\"activated\",value:t.activated}),\" \",r.a.createElement(u.Translate,{contentKey:\"userManagement.activated\"},\"Activated\"))),r.a.createElement(M.AvGroup,null,r.a.createElement(i.Label,{for:\"langKey\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.langKey\"},\"Language Key\")),r.a.createElement(M.AvField,{type:\"select\",className:\"form-control\",name:\"langKey\",value:t.langKey},y.b.map(function(e){return r.a.createElement(\"option\",{value:e,key:e},y.a[e].name)}))),r.a.createElement(M.AvGroup,null,r.a.createElement(i.Label,{for:\"authorities\"},r.a.createElement(u.Translate,{contentKey:\"userManagement.profiles\"},\"Language Key\")),r.a.createElement(M.AvInput,{type:\"select\",className:\"form-control\",name:\"authorities\",value:t.authorities,multiple:!0},l.map(function(e){return r.a.createElement(\"option\",{value:e,key:e},e)}))),r.a.createElement(i.Button,{tag:m.a,to:\"/admin/user-management\",replace:!0,color:\"info\"},r.a.createElement(d.a,{icon:\"arrow-left\"}),\" \",r.a.createElement(\"span\",{className:\"d-none d-md-inline\"},r.a.createElement(u.Translate,{contentKey:\"entity.action.back\"},\"Back\"))),\" \",r.a.createElement(i.Button,{color:\"primary\",type:\"submit\",disabled:n},r.a.createElement(d.a,{icon:\"save\"}),\" \",r.a.createElement(u.Translate,{contentKey:\"entity.action.save\"},\"Save\"))))))},UserManagementUpdate}(r.a.Component),x={getUser:p.e,getRoles:p.d,updateUser:p.h,createUser:p.a,reset:p.g},k=Object(c.connect)(function(e){return{user:e.userManagement.user,roles:e.userManagement.authorities,loading:e.userManagement.loading,updating:e.userManagement.updating}},x)(C),F=function(e){function UserManagementDeleteDialog(){var t=null!==e&&e.apply(this,arguments)||this;return t.confirmDelete=function(e){t.props.deleteUser(t.props.user.login),t.handleClose(e)},t.handleClose=function(e){e.stopPropagation(),t.props.history.goBack()},t}return s.c(UserManagementDeleteDialog,e),UserManagementDeleteDialog.prototype.componentDidMount=function(){this.props.getUser(this.props.match.params.login)},UserManagementDeleteDialog.prototype.render=function(){var e=this.props.user;return r.a.createElement(i.Modal,{isOpen:!0,toggle:this.handleClose},r.a.createElement(i.ModalHeader,{toggle:this.handleClose},r.a.createElement(u.Translate,{contentKey:\"entity.delete.title\"},\"Confirm delete operation\")),r.a.createElement(i.ModalBody,null,r.a.createElement(u.Translate,{contentKey:\"userManagement.delete.question\",interpolate:{login:e.login}},\"Are you sure you want to delete this User?\")),r.a.createElement(i.ModalFooter,null,r.a.createElement(i.Button,{color:\"secondary\",onClick:this.handleClose},r.a.createElement(d.a,{icon:\"ban\"}),\" \",r.a.createElement(u.Translate,{contentKey:\"entity.action.cancel\"},\"Cancel\")),r.a.createElement(i.Button,{color:\"danger\",onClick:this.confirmDelete},r.a.createElement(d.a,{icon:\"trash\"}),\" \",r.a.createElement(u.Translate,{contentKey:\"entity.action.delete\"},\"Delete\"))))},UserManagementDeleteDialog}(r.a.Component),D={getUser:p.e,deleteUser:p.c},P=Object(c.connect)(function(e){return{user:e.userManagement.user}},D)(F),w=function(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(l.a,{exact:!0,path:t.url+\"/new\",component:k}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/:login/edit\",component:k}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/:login\",component:T}),r.a.createElement(l.a,{path:t.url,component:f})),r.a.createElement(l.a,{path:t.url+\"/:login/delete\",component:P}))},j=a(145),B=function(e){function LogsPage(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filter:\"\"},t.getLogs=function(){t.props.isFetching||t.props.getLoggers()},t.changeLevel=function(e,a){return function(){t.props.changeLogLevel(e,a)}},t.setFilter=function(e){t.setState({filter:e.target.value})},t.getClassName=function(e,t,a){return e===t?\"btn btn-sm btn-\"+a:\"btn btn-sm btn-light\"},t.filterFn=function(e){return e.name.toUpperCase().includes(t.state.filter.toUpperCase())},t}return s.c(LogsPage,e),LogsPage.prototype.componentDidMount=function(){this.props.getLoggers()},LogsPage.prototype.render=function(){var e=this,t=this.props,a=t.logs,n=t.isFetching,l=this.state.filter,o=a?a.loggers:[];return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",{id:\"logs-page-heading\"},r.a.createElement(u.Translate,{contentKey:\"logs.title\"},\"Logs\")),r.a.createElement(\"p\",null,r.a.createElement(u.Translate,{contentKey:\"logs.nbloggers\",interpolate:{total:o.length}},\"There are \",o.length.toString(),\" loggers.\")),r.a.createElement(\"span\",null,r.a.createElement(u.Translate,{contentKey:\"logs.filter\"},\"Filter\")),r.a.createElement(\"input\",{type:\"text\",value:l,onChange:this.setFilter,className:\"form-control\",disabled:n}),r.a.createElement(\"table\",{className:\"table table-sm table-striped table-bordered\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",{title:\"click to order\"},r.a.createElement(\"th\",null,r.a.createElement(\"span\",null,r.a.createElement(u.Translate,{contentKey:\"logs.table.name\"},\"Name\"))),r.a.createElement(\"th\",null,r.a.createElement(\"span\",null,r.a.createElement(u.Translate,{contentKey:\"logs.table.level\"},\"Level\"))))),r.a.createElement(\"tbody\",null,o.filter(this.filterFn).map(function(t,a){return r.a.createElement(\"tr\",{key:\"log-row-\"+a},r.a.createElement(\"td\",null,r.a.createElement(\"small\",null,t.name)),r.a.createElement(\"td\",null,r.a.createElement(\"button\",{disabled:n,onClick:e.changeLevel(t.name,\"TRACE\"),className:e.getClassName(t.level,\"TRACE\",\"primary\")},\"TRACE\"),r.a.createElement(\"button\",{disabled:n,onClick:e.changeLevel(t.name,\"DEBUG\"),className:e.getClassName(t.level,\"DEBUG\",\"success\")},\"DEBUG\"),r.a.createElement(\"button\",{disabled:n,onClick:e.changeLevel(t.name,\"INFO\"),className:e.getClassName(t.level,\"INFO\",\"info\")},\"INFO\"),r.a.createElement(\"button\",{disabled:n,onClick:e.changeLevel(t.name,\"WARN\"),className:e.getClassName(t.level,\"WARN\",\"warning\")},\"WARN\"),r.a.createElement(\"button\",{disabled:n,onClick:e.changeLevel(t.name,\"ERROR\"),className:e.getClassName(t.level,\"ERROR\",\"danger\")},\"ERROR\"),r.a.createElement(\"button\",{disabled:n,onClick:e.changeLevel(t.name,\"OFF\"),className:e.getClassName(t.level,\"OFF\",\"secondary\")},\"OFF\")))}))))},LogsPage}(r.a.Component),S={getLoggers:j.g,changeLogLevel:j.a},U=Object(c.connect)(function(e){var t=e.administration;return{logs:t.logs,isFetching:t.loading}},S)(B),I=function(e){var t=e.handleClose,a=e.healthObject,n=e.showModal,l=a.details||{};return r.a.createElement(i.Modal,{isOpen:n,modalTransition:{timeout:20},backdropTransition:{timeout:10},toggle:t},r.a.createElement(i.ModalHeader,{toggle:t},a.name),r.a.createElement(i.ModalBody,null,r.a.createElement(i.Table,{bordered:!0},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Name\"),r.a.createElement(\"th\",null,\"Value\"))),r.a.createElement(\"tbody\",null,Object.keys(l).map(function(e,t){return r.a.createElement(\"tr\",{key:t},r.a.createElement(\"td\",null,e),r.a.createElement(\"td\",null,\"diskSpace\"===a.name?(n=l[e],(o=n/1073741824)>1?o.toFixed(2)+\" GB\":(n/1048576).toFixed(2)+\" MB\"):JSON.stringify(l[e])));var n,o})))),r.a.createElement(i.ModalFooter,null,r.a.createElement(i.Button,{color:\"primary\",onClick:t},\"Close\")))},K=function(e){function HealthPage(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={healthObject:{},showModal:!1},t.getSystemHealth=function(){t.props.isFetching||t.props.systemHealth()},t.getSystemHealthInfo=function(e,a){return function(){t.setState({showModal:!0,healthObject:s.a({},a,{name:e})})}},t.handleClose=function(){t.setState({showModal:!1})},t.renderModal=function(){var e=t.state.healthObject;return r.a.createElement(I,{healthObject:e,handleClose:t.handleClose,showModal:t.state.showModal})},t}return s.c(HealthPage,e),HealthPage.prototype.componentDidMount=function(){this.props.systemHealth()},HealthPage.prototype.render=function(){var e=this,t=this.props,a=t.health,n=t.isFetching,l=(a||{}).details||{};return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",{id:\"health-page-heading\"},\"Health Checks\"),r.a.createElement(\"p\",null,r.a.createElement(i.Button,{onClick:this.getSystemHealth,color:n?\"btn btn-danger\":\"btn btn-primary\",disabled:n},r.a.createElement(d.a,{icon:\"sync\"}),\" \",r.a.createElement(u.Translate,{component:\"span\",contentKey:\"health.refresh.button\"},\"Refresh\"))),r.a.createElement(i.Row,null,r.a.createElement(i.Col,{md:\"12\"},r.a.createElement(i.Table,{bordered:!0},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Service Name\"),r.a.createElement(\"th\",null,\"Status\"),r.a.createElement(\"th\",null,\"Details\"))),r.a.createElement(\"tbody\",null,Object.keys(l).map(function(t,a){return\"status\"!==t?r.a.createElement(\"tr\",{key:a},r.a.createElement(\"td\",null,t),r.a.createElement(\"td\",null,r.a.createElement(i.Badge,{color:\"UP\"!==l[t].status?\"danger\":\"success\"},l[t].status)),r.a.createElement(\"td\",null,l[t].details?r.a.createElement(\"a\",{onClick:e.getSystemHealthInfo(t,l[t])},r.a.createElement(d.a,{icon:\"eye\"})):null)):null}))))),this.renderModal())},HealthPage}(r.a.Component),O={systemHealth:j.h},A=Object(c.connect)(function(e){return{health:e.administration.health,isFetching:e.administration.loading}},O)(K),L=function(e){function ThreadItem(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={collapse:!1},t.toggleStackTrace=function(){t.setState({collapse:!t.state.collapse})},t}return s.c(ThreadItem,e),ThreadItem.prototype.render=function(){var e=this.props.threadDumpInfo;return r.a.createElement(\"div\",null,r.a.createElement(\"a\",{onClick:this.toggleStackTrace,style:{color:\"hotpink\"}},this.state.collapse?r.a.createElement(\"span\",null,\"Hide StackTrace\"):r.a.createElement(\"span\",null,\"Show StackTrace\")),r.a.createElement(i.Collapse,{isOpen:this.state.collapse},r.a.createElement(i.Card,null,r.a.createElement(i.CardBody,null,r.a.createElement(i.Row,{className:\"break\",style:{overflowX:\"scroll\"}},Object.entries(e.stackTrace).map(function(e){var t=e[0],a=e[1];return r.a.createElement(\"samp\",{key:\"detail-\"+t},a.className,\".\",a.methodName,r.a.createElement(\"code\",null,\"(\",a.fileName,\":\",a.lineNumber,\")\"))}),r.a.createElement(\"span\",{className:\"mt-1\"}))))))},ThreadItem}(r.a.Component),R=function(e){function MetricsModal(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={badgeFilter:\"\",searchFilter:\"\"},t.computeFilteredList=function(){var e=t.state,a=e.badgeFilter,n=e.searchFilter,r=t.props.threadDump.threads;return\"\"!==a&&(r=r.filter(function(e){return e.threadState===a})),\"\"!==n&&(r=r.filter(function(e){return e.lockName&&e.lockName.toLowerCase().includes(n.toLowerCase())})),r},t.computeCounters=function(){var e=0,a=0,n=0,r=0;return t.props.threadDump.threads.forEach(function(t){switch(t.threadState){case\"RUNNABLE\":e++;break;case\"WAITING\":a++;break;case\"TIMED_WAITING\":n++;break;case\"BLOCKED\":r++}}),{threadDumpAll:e+a+n+r,threadDumpRunnable:e,threadDumpWaiting:a,threadDumpTimedWaiting:n,threadDumpBlocked:r}},t.getBadgeClass=function(e){return\"RUNNABLE\"===e?\"badge-success\":\"WAITING\"===e?\"badge-info\":\"TIMED_WAITING\"===e?\"badge-warning\":\"BLOCKED\"===e?\"badge-danger\":void 0},t.updateBadgeFilter=function(e){return function(){return t.setState({badgeFilter:e})}},t.updateSearchFilter=function(e){return t.setState({searchFilter:e.target.value})},t}return s.c(MetricsModal,e),MetricsModal.prototype.render=function(){var e=this,t=this.props,a=t.showModal,n=t.handleClose,l=t.threadDump,o={},s=null;return l&&l.threads&&(o=this.computeCounters(),s=this.computeFilteredList()),r.a.createElement(i.Modal,{isOpen:a,toggle:n,className:\"modal-lg\"},r.a.createElement(i.ModalHeader,{toggle:n},\"Threads dump\"),r.a.createElement(i.ModalBody,null,r.a.createElement(i.Badge,{color:\"primary\",className:\"hand\",onClick:this.updateBadgeFilter(\"\")},\"All \",r.a.createElement(i.Badge,{pill:!0},o.threadDumpAll||0)),\" \",r.a.createElement(i.Badge,{color:\"success\",className:\"hand\",onClick:this.updateBadgeFilter(\"RUNNABLE\")},\"Runnable \",r.a.createElement(i.Badge,{pill:!0},o.threadDumpRunnable||0)),\" \",r.a.createElement(i.Badge,{color:\"info\",className:\"hand\",onClick:this.updateBadgeFilter(\"WAITING\")},\"Waiting \",r.a.createElement(i.Badge,{pill:!0},o.threadDumpWaiting||0)),\" \",r.a.createElement(i.Badge,{color:\"warning\",className:\"hand\",onClick:this.updateBadgeFilter(\"TIMED_WAITING\")},\"Timed Waiting \",r.a.createElement(i.Badge,{pill:!0},o.threadDumpTimedWaiting||0)),\" \",r.a.createElement(i.Badge,{color:\"danger\",className:\"hand\",onClick:this.updateBadgeFilter(\"BLOCKED\")},\"Blocked \",r.a.createElement(i.Badge,{pill:!0},o.threadDumpBlocked||0)),\" \",r.a.createElement(\"div\",{className:\"mt-2\"},\" \"),r.a.createElement(i.Input,{type:\"text\",className:\"form-control\",placeholder:\"Filter by Lock Name...\",onChange:this.updateSearchFilter}),r.a.createElement(\"div\",{style:{padding:\"10px\"}},s?s.map(function(t,a){return r.a.createElement(\"div\",{key:\"dump-\"+a},r.a.createElement(\"h6\",null,\" \",r.a.createElement(\"span\",{className:\"badge \"+e.getBadgeClass(t.threadState)},t.threadState),\" \",t.threadName,\" (ID \",t.threadId,\") \"),r.a.createElement(L,{threadDumpInfo:t}),r.a.createElement(i.Row,null,r.a.createElement(i.Table,{responsive:!0},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Blocked Time\"),r.a.createElement(\"th\",null,\"Blocked Count\"),r.a.createElement(\"th\",null,\"Waited Time\"),r.a.createElement(\"th\",null,\"Waited Count\"),r.a.createElement(\"th\",null,\"Lock Name\"))),r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",{key:t.lockName},r.a.createElement(\"td\",null,t.blockedTime),r.a.createElement(\"td\",null,t.blockedCount),r.a.createElement(\"td\",null,t.waitedTime),r.a.createElement(\"td\",null,t.waitedCount),r.a.createElement(\"td\",{className:\"thread-dump-modal-lock\",title:t.lockName},r.a.createElement(\"code\",null,t.lockName)))))))}):null)),r.a.createElement(i.ModalFooter,null,r.a.createElement(i.Button,{color:\"primary\",onClick:n},\"Close\")))},MetricsModal}(r.a.Component),H=function(e){function MetricsPage(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showModal:!1},t.getMetrics=function(){t.props.isFetching||t.props.systemMetrics()},t.getThreadDump=function(){t.props.systemThreadDump(),t.setState({showModal:!0})},t.handleClose=function(){t.setState({showModal:!1})},t.filterNaN=function(e){return isNaN(e)?0:e},t.getStats=function(e){var a={servicesStats:{},cachesStats:{}};return!t.props.isFetching&&e&&e.timers&&Object.keys(e.timers).forEach(function(t,n){if(-1===t.indexOf(\"web.rest\")&&-1===t.indexOf(\"service\")||(a.servicesStats[t]=e.timers[t]),-1!==t.indexOf(\"net.sf.ehcache.Cache\")){var r=t.lastIndexOf(\".\"),l=t.substr(0,r);a.cachesStats[l]={name:l,value:e.timers[t]}}}),a},t.gaugeRow=function(e,t,a){return e.gauges[a]?r.a.createElement(i.Row,null,r.a.createElement(i.Col,{md:\"9\"},t),r.a.createElement(i.Col,{md:\"3\",className:\"text-right\"},e.gauges[a].value)):null},t.renderModal=function(){return r.a.createElement(R,{handleClose:t.handleClose,showModal:t.state.showModal,threadDump:t.props.threadDump})},t.renderGauges=function(e){return r.a.createElement(i.Row,null,r.a.createElement(i.Col,{sm:\"12\"},r.a.createElement(\"h3\",null,\"JVM Metrics\"),r.a.createElement(i.Row,null,r.a.createElement(i.Col,{md:\"4\"},r.a.createElement(\"b\",null,\"Memory\"),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Total Memory\"),\" (\",r.a.createElement(u.TextFormat,{value:e.gauges[\"jvm.memory.total.used\"].value/1048576,type:\"number\",format:g.d}),\"M / \",r.a.createElement(u.TextFormat,{value:e.gauges[\"jvm.memory.total.max\"].value/1048576,type:\"number\",format:g.d}),\"M)\"),r.a.createElement(i.Progress,{animated:!0,value:e.gauges[\"jvm.memory.total.used\"].value,min:\"0\",max:e.gauges[\"jvm.memory.total.max\"].value,color:\"success\"},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*e.gauges[\"jvm.memory.total.used\"].value/e.gauges[\"jvm.memory.total.max\"].value,type:\"number\",format:g.d}),\"%\")),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Heap Memory\"),\" (\",r.a.createElement(u.TextFormat,{value:e.gauges[\"jvm.memory.heap.used\"].value/1048576,type:\"number\",format:g.d}),\"M / \",r.a.createElement(u.TextFormat,{value:e.gauges[\"jvm.memory.heap.max\"].value/1048576,type:\"number\",format:g.d}),\"M)\"),r.a.createElement(i.Progress,{animated:!0,min:\"0\",max:e.gauges[\"jvm.memory.heap.max\"].value,value:e.gauges[\"jvm.memory.heap.used\"].value,color:\"success\"},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*e.gauges[\"jvm.memory.heap.used\"].value/e.gauges[\"jvm.memory.heap.max\"].value,type:\"number\",format:g.d}),\"%\")),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Non-Heap Memory\"),\" (\",r.a.createElement(u.TextFormat,{value:e.gauges[\"jvm.memory.non-heap.used\"].value/1048576,type:\"number\",format:g.d}),\"M /\",\" \",r.a.createElement(u.TextFormat,{value:e.gauges[\"jvm.memory.non-heap.committed\"].value/1048576,type:\"number\",format:g.d}),\"M)\"),r.a.createElement(i.Progress,{animated:!0,min:\"0\",max:e.gauges[\"jvm.memory.non-heap.committed\"].value,value:e.gauges[\"jvm.memory.non-heap.used\"].value,color:\"success\"},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*e.gauges[\"jvm.memory.non-heap.used\"].value/e.gauges[\"jvm.memory.non-heap.committed\"].value,type:\"number\",format:g.d}),\"%\"))),r.a.createElement(i.Col,{md:\"4\"},r.a.createElement(\"b\",null,\"Threads\"),\" (Total: \",e.gauges[\"jvm.threads.count\"].value,\")\",\" \",r.a.createElement(i.Button,{color:\"link\",className:\"hand\",onClick:t.getThreadDump},r.a.createElement(d.a,{icon:\"eye\"})),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Runnable\"),\" \",e.gauges[\"jvm.threads.runnable.count\"].value),r.a.createElement(i.Progress,{animated:!0,min:\"0\",value:e.gauges[\"jvm.threads.runnable.count\"].value,max:e.gauges[\"jvm.threads.count\"].value,color:\"success\"},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*e.gauges[\"jvm.threads.runnable.count\"].value/e.gauges[\"jvm.threads.count\"].value,type:\"number\",format:g.d}),\"%\")),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Timed Waiting\"),\" (\",e.gauges[\"jvm.threads.timed_waiting.count\"].value,\")\"),r.a.createElement(i.Progress,{animated:!0,min:\"0\",value:e.gauges[\"jvm.threads.timed_waiting.count\"].value,max:e.gauges[\"jvm.threads.count\"].value,color:\"warning\"},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*e.gauges[\"jvm.threads.timed_waiting.count\"].value/e.gauges[\"jvm.threads.count\"].value,type:\"number\",format:g.d}),\"%\")),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Waiting\"),\" (\",e.gauges[\"jvm.threads.waiting.count\"].value,\")\"),r.a.createElement(i.Progress,{animated:!0,min:\"0\",value:e.gauges[\"jvm.threads.waiting.count\"].value,max:e.gauges[\"jvm.threads.count\"].value,color:\"warning\"},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*e.gauges[\"jvm.threads.waiting.count\"].value/e.gauges[\"jvm.threads.count\"].value,type:\"number\",format:g.d}),\"%\")),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Blocked\"),\" (\",e.gauges[\"jvm.threads.blocked.count\"].value,\")\"),r.a.createElement(i.Progress,{animated:!0,min:\"0\",value:e.gauges[\"jvm.threads.blocked.count\"].value,max:e.gauges[\"jvm.threads.count\"].value,color:\"success\"},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*e.gauges[\"jvm.threads.blocked.count\"].value/e.gauges[\"jvm.threads.count\"].value,type:\"number\",format:g.d}),\"%\"))),r.a.createElement(i.Col,{md:\"4\"},r.a.createElement(\"b\",null,\"Garbage collections\"),t.gaugeRow(e,\"Mark Sweep count\",\"jvm.garbage.PS-MarkSweep.count\"),t.gaugeRow(e,\"Mark Sweep time\",\"jvm.garbage.PS-MarkSweep.time\"),t.gaugeRow(e,\"Scavenge count\",\"jvm.garbage.PS-Scavenge.count\"),t.gaugeRow(e,\"Scavenge time\",\"jvm.garbage.PS-Scavenge.time\")))))},t}return s.c(MetricsPage,e),MetricsPage.prototype.componentDidMount=function(){this.props.systemMetrics()},MetricsPage.prototype.render=function(){var e=this.props,t=e.metrics,a=e.isFetching,n=t||{},l=this.getStats(n),o=l.servicesStats,s=l.cachesStats;return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",{id:\"metrics-page-heading\"},\"Application Metrics\"),r.a.createElement(\"p\",null,r.a.createElement(i.Button,{onClick:this.getMetrics,color:a?\"btn btn-danger\":\"btn btn-primary\",disabled:a},r.a.createElement(d.a,{icon:\"sync\"}),\" \",r.a.createElement(u.Translate,{component:\"span\",contentKey:\"health.refresh.button\"},\"Refresh\"))),r.a.createElement(\"hr\",null),t.gauges?this.renderGauges(t):\"\",t.meters&&t.timers?r.a.createElement(i.Row,null,r.a.createElement(i.Col,{sm:\"12\"},r.a.createElement(\"h3\",null,\"HTTP requests (events per second)\"),r.a.createElement(\"p\",null,r.a.createElement(\"span\",null,\"Active requests:\"),\" \",r.a.createElement(\"b\",null,r.a.createElement(u.TextFormat,{value:t.counters[\"com.codahale.metrics.servlet.InstrumentedFilter.activeRequests\"].count,type:\"number\",format:g.d})),\" \",\"- \",r.a.createElement(\"span\",null,\"Total requests:\"),\" \",r.a.createElement(\"b\",null,r.a.createElement(u.TextFormat,{value:t.timers[\"com.codahale.metrics.servlet.InstrumentedFilter.requests\"].count,type:\"number\",format:g.d}))),r.a.createElement(i.Table,null,r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Code\"),r.a.createElement(\"th\",null,\"Count\"),r.a.createElement(\"th\",{className:\"text-right\"},\"Mean\"),r.a.createElement(\"th\",{className:\"text-right\"},r.a.createElement(\"span\",null,\"Average\"),\" (1 min)\"),r.a.createElement(\"th\",{className:\"text-right\"},r.a.createElement(\"span\",null,\"Average\"),\" (5 min)\"),r.a.createElement(\"th\",{className:\"text-right\"},r.a.createElement(\"span\",null,\"Average\"),\" (15 min)\"))),r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",{key:0},r.a.createElement(\"td\",null,\"OK\"),r.a.createElement(\"td\",null,r.a.createElement(i.Progress,{min:\"0\",max:t.timers[\"com.codahale.metrics.servlet.InstrumentedFilter.requests\"].count,value:t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\"].count,color:\"success\",animated:!0})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\"].mean_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\"].m1_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\"].m5_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\"].m15_rate),type:\"number\",format:g.c}))),r.a.createElement(\"tr\",{key:1},r.a.createElement(\"td\",null,\"Not Found\"),r.a.createElement(\"td\",null,r.a.createElement(i.Progress,{min:\"0\",max:t.timers[\"com.codahale.metrics.servlet.InstrumentedFilter.requests\"].count,value:t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\"].count,color:\"success\",animated:!0})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\"].mean_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\"].m1_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\"].m5_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\"].m15_rate),type:\"number\",format:g.c}))),r.a.createElement(\"tr\",{key:2},r.a.createElement(\"td\",null,\"Server Error\"),r.a.createElement(\"td\",null,r.a.createElement(i.Progress,{min:\"0\",max:t.timers[\"com.codahale.metrics.servlet.InstrumentedFilter.requests\"].count,value:t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\"].count,color:\"success\",animated:!0})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\"].mean_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\"].m1_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\"].m5_rate),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.meters[\"com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\"].m15_rate),type:\"number\",format:g.c}))))))):\"\",o?r.a.createElement(i.Row,null,r.a.createElement(i.Col,{sm:\"12\"},r.a.createElement(\"h3\",null,\"Services statistics (time in millisecond)\")),r.a.createElement(i.Table,null,r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Service name\"),r.a.createElement(\"th\",null,\"Count\"),r.a.createElement(\"th\",null,\"Mean\"),r.a.createElement(\"th\",null,\"Min\"),r.a.createElement(\"th\",null,\"p50\"),r.a.createElement(\"th\",null,\"p75\"),r.a.createElement(\"th\",null,\"p95\"),r.a.createElement(\"th\",null,\"p99\"),r.a.createElement(\"th\",null,\"Max\"))),r.a.createElement(\"tbody\",null,Object.keys(o).map(function(e,t){return r.a.createElement(\"tr\",{key:e},r.a.createElement(\"td\",null,e),r.a.createElement(\"td\",null,o[e].count),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:1024*o[e].mean,type:\"number\",format:g.d})),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:1024*o[e].min,type:\"number\",format:g.d})),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:1024*o[e].p50,type:\"number\",format:g.d})),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:1024*o[e].p75,type:\"number\",format:g.d})),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:1024*o[e].p95,type:\"number\",format:g.d})),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:1024*o[e].p99,type:\"number\",format:g.d})),r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:1024*o[e].max,type:\"number\",format:g.d})))})))):\"\",s?r.a.createElement(i.Row,null,r.a.createElement(i.Col,{sm:\"12\"},r.a.createElement(\"h3\",null,\"Ehcache statistics\"),r.a.createElement(i.Table,null,r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Cache Name\"),r.a.createElement(\"th\",null,\"Object\"),r.a.createElement(\"th\",null,\"Misses\"),r.a.createElement(\"th\",null,\"Eviction Count\"))),r.a.createElement(\"tbody\",null,Object.keys(s).map(function(e,a){return r.a.createElement(\"tr\",{key:e},r.a.createElement(\"td\",null,e),r.a.createElement(\"td\",null,t.gauges[e+\".objects\"].value),r.a.createElement(\"td\",null,t.gauges[e+\".hits\"].value),r.a.createElement(\"td\",null,t.gauges[e+\".misses\"].value),r.a.createElement(\"td\",null,t.gauges[e+\".eviction-count\"].value))}))))):\"\",t.gauges&&t.gauges[\"HikariPool-1.pool.TotalConnections\"]&&t.gauges[\"HikariPool-1.pool.TotalConnections\"].value>0?r.a.createElement(i.Row,null,r.a.createElement(i.Col,{sm:\"12\"},r.a.createElement(\"h3\",null,\"DataSource statistics (time in millisecond)\"),r.a.createElement(i.Table,null,r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(\"span\",null,\"Usage\"),\"(\",t.gauges[\"HikariPool-1.pool.ActiveConnections\"].value,\" /\",\" \",t.gauges[\"HikariPool-1.pool.TotalConnections\"].value,\")\"),r.a.createElement(\"th\",{className:\"text-right\"},\"Count\"),r.a.createElement(\"th\",{className:\"text-right\"},\"Mean\"),r.a.createElement(\"th\",{className:\"text-right\"},\"Min\"),r.a.createElement(\"th\",{className:\"text-right\"},\"p50\"),r.a.createElement(\"th\",{className:\"text-right\"},\"p75\"),r.a.createElement(\"th\",{className:\"text-right\"},\"p95\"),r.a.createElement(\"th\",{className:\"text-right\"},\"p99\"),r.a.createElement(\"th\",{className:\"text-right\"},\"Max\"))),r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",{key:\"DB\"},r.a.createElement(\"td\",null,r.a.createElement(i.Progress,{min:\"0\",max:t.gauges[\"HikariPool-1.pool.TotalConnections\"].value,value:t.gauges[\"HikariPool-1.pool.ActiveConnections\"].value},r.a.createElement(\"span\",null,r.a.createElement(u.TextFormat,{value:100*t.gauges[\"HikariPool-1.pool.ActiveConnections\"].value/t.gauges[\"HikariPool-1.pool.TotalConnections\"].value,type:\"number\",format:g.d}),\"%\"))),r.a.createElement(\"td\",{className:\"text-right\"},t.histograms[\"HikariPool-1.pool.Usage\"].count),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.histograms[\"HikariPool-1.pool.Usage\"].mean),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.histograms[\"HikariPool-1.pool.Usage\"].min),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.histograms[\"HikariPool-1.pool.Usage\"].p50),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.histograms[\"HikariPool-1.pool.Usage\"].p75),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.histograms[\"HikariPool-1.pool.Usage\"].p95),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.histograms[\"HikariPool-1.pool.Usage\"].p99),type:\"number\",format:g.c})),r.a.createElement(\"td\",{className:\"text-right\"},r.a.createElement(u.TextFormat,{value:this.filterNaN(t.histograms[\"HikariPool-1.pool.Usage\"].max),type:\"number\",format:g.c}))))))):\"\",this.renderModal())},MetricsPage}(r.a.Component),G={systemMetrics:j.i,systemThreadDump:j.j},W=Object(c.connect)(function(e){return{metrics:e.administration.metrics,isFetching:e.administration.loading,threadDump:e.administration.threadDump}},G)(H),_=function(e){function ConfigurationPage(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filter:\"\",reversePrefix:!1,reverseProperties:!1},t.setFilter=function(e){t.setState({filter:e.target.value})},t.envFilterFn=function(e){return e.toUpperCase().includes(t.state.filter.toUpperCase())},t.propsFilterFn=function(e){return e.prefix.toUpperCase().includes(t.state.filter.toUpperCase())},t.reversePrefix=function(){t.setState({reversePrefix:!t.state.reversePrefix})},t.reverseProperties=function(){t.setState({reverseProperties:!t.state.reverseProperties})},t.getContextList=function(e){return Object.values(e).map(function(e){return e.beans}).reduce(function(e,t){return s.a({},e,t)})},t}return s.c(ConfigurationPage,e),ConfigurationPage.prototype.componentDidMount=function(){this.props.getConfigurations(),this.props.getEnv()},ConfigurationPage.prototype.render=function(){var e=this,t=this.props.configuration,a=this.state.filter,n=t&&t.configProps?t.configProps:{},l=t&&t.env?t.env:{};return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",{id:\"configuration-page-heading\"},r.a.createElement(u.Translate,{contentKey:\"configuration.title\"},\"Configuration\")),r.a.createElement(\"span\",null,r.a.createElement(u.Translate,{contentKey:\"configuration.filter\"},\"Filter\")),\" \",r.a.createElement(i.Input,{type:\"search\",value:a,onChange:this.setFilter,name:\"search\",id:\"search\"}),r.a.createElement(\"label\",null,\"Spring configuration\"),r.a.createElement(i.Table,{className:\"table table-striped table-bordered table-responsive d-table\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{onClick:this.reversePrefix},r.a.createElement(u.Translate,{contentKey:\"configuration.table.prefix\"},\"Prefix\")),r.a.createElement(\"th\",{onClick:this.reverseProperties},r.a.createElement(u.Translate,{contentKey:\"configuration.table.properties\"},\"Properties\")))),r.a.createElement(\"tbody\",null,n.contexts?Object.values(this.getContextList(n.contexts)).filter(this.propsFilterFn).map(function(e,t){return r.a.createElement(\"tr\",{key:t},r.a.createElement(\"td\",null,e.prefix),r.a.createElement(\"td\",null,Object.keys(e.properties).map(function(t,a){return r.a.createElement(i.Row,{key:a},r.a.createElement(i.Col,{md:\"4\"},t),r.a.createElement(i.Col,{md:\"8\"},r.a.createElement(i.Badge,{className:\"float-right badge-secondary break\"},JSON.stringify(e.properties[t]))))})))}):null)),l.propertySources?l.propertySources.map(function(t,a){return r.a.createElement(\"div\",{key:a},r.a.createElement(\"h4\",null,r.a.createElement(\"span\",null,t.name)),r.a.createElement(i.Table,{className:\"table table-sm table-striped table-bordered table-responsive d-table\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",{key:a},r.a.createElement(\"th\",{className:\"w-40\"},\"Property\"),r.a.createElement(\"th\",{className:\"w-60\"},\"Value\"))),r.a.createElement(\"tbody\",null,Object.keys(t.properties).filter(e.envFilterFn).map(function(e,a){return r.a.createElement(\"tr\",{key:a},r.a.createElement(\"td\",{className:\"break\"},e),r.a.createElement(\"td\",{className:\"break\"},r.a.createElement(\"span\",{className:\"float-right badge badge-secondary break\"},t.properties[e].value)))}))))}):null)},ConfigurationPage}(r.a.Component),q={getConfigurations:j.e,getEnv:j.f},J=Object(c.connect)(function(e){var t=e.administration;return{configuration:t.configuration,isFetching:t.loading}},q)(_),z=function(){var e=new Date;return(0===e.getMonth()?new Date(e.getFullYear()-1,11,e.getDate()):new Date(e.getFullYear(),e.getMonth()-1,e.getDate())).toISOString().slice(0,10)},V=function(){var e=new Date;return e.setDate(e.getDate()+1),new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString().slice(0,10)},Y=function(e){function AuditsPage(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=s.a({},Object(u.getSortState)(t.props.location,E),{fromDate:z(),toDate:V()}),t.onChangeFromDate=function(e){t.setState({fromDate:e.target.value},function(){return t.getAudits()})},t.onChangeToDate=function(e){t.setState({toDate:e.target.value},function(){return t.getAudits()})},t.sort=function(e){return function(){t.setState({order:\"asc\"===t.state.order?\"desc\":\"asc\",sort:e},function(){return t.transition()})}},t.transition=function(){t.getAudits(),t.props.history.push(t.props.location.pathname+\"?page=\"+t.state.activePage+\"&sort=\"+t.state.sort+\",\"+t.state.order)},t.handlePagination=function(e){return t.setState({activePage:e},function(){return t.transition()})},t.getAudits=function(){var e=t.state,a=e.activePage,n=e.itemsPerPage,r=e.sort,l=e.order,o=e.fromDate,s=e.toDate;t.props.getAudits(a-1,n,r+\",\"+l,o,s)},t}return s.c(AuditsPage,e),AuditsPage.prototype.componentDidMount=function(){this.getAudits()},AuditsPage.prototype.render=function(){var e=this.props,t=e.audits,a=e.totalItems,n=this.state,l=n.fromDate,o=n.toDate;return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",{id:\"audits-page-heading\"},\"Audits\"),r.a.createElement(\"span\",null,r.a.createElement(u.Translate,{contentKey:\"audits.filter.from\"},\"from\")),r.a.createElement(i.Input,{type:\"date\",value:l,onChange:this.onChangeFromDate,name:\"fromDate\",id:\"fromDate\"}),r.a.createElement(\"span\",null,r.a.createElement(u.Translate,{contentKey:\"audits.filter.to\"},\"to\")),r.a.createElement(i.Input,{type:\"date\",value:o,onChange:this.onChangeToDate,name:\"toDate\",id:\"toDate\"}),r.a.createElement(i.Table,{striped:!0,responsive:!0},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{onClick:this.sort(\"auditEventDate\")},r.a.createElement(u.Translate,{contentKey:\"audits.table.header.date\"},\"Date\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",{onClick:this.sort(\"principal\")},r.a.createElement(u.Translate,{contentKey:\"audits.table.header.principal\"},\"User\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",{onClick:this.sort(\"auditEventType\")},r.a.createElement(u.Translate,{contentKey:\"audits.table.header.status\"},\"State\"),r.a.createElement(d.a,{icon:\"sort\"})),r.a.createElement(\"th\",null,r.a.createElement(u.Translate,{contentKey:\"audits.table.header.data\"},\"Extra data\")))),r.a.createElement(\"tbody\",null,t.map(function(e,t){return r.a.createElement(\"tr\",{key:\"audit-\"+t},r.a.createElement(\"td\",null,r.a.createElement(u.TextFormat,{value:e.timestamp,type:\"date\",format:g.b})),r.a.createElement(\"td\",null,e.principal),r.a.createElement(\"td\",null,e.type),r.a.createElement(\"td\",null,e.data?e.data.message:null,e.data?e.data.remoteAddress:null))}))),r.a.createElement(i.Row,{className:\"justify-content-center\"},r.a.createElement(u.JhiPagination,{items:Object(u.getPaginationItemsNumber)(a,this.state.itemsPerPage),activePage:this.state.activePage,onSelect:this.handlePagination,maxButtons:5})))},AuditsPage}(r.a.Component),X={getAudits:j.d},Z=Object(c.connect)(function(e){return{audits:e.administration.audits,totalItems:e.administration.totalItems}},X)(Y),$=function(){return r.a.createElement(\"div\",null,r.a.createElement(\"iframe\",{src:\"../swagger-ui/index.html\",width:\"100%\",height:\"800\",title:\"Swagger UI\",seamless:!0,style:{border:\"none\"}}))},Q=function(e){function GatewayPage(){var t=null!==e&&e.apply(this,arguments)||this;return t.metadata=function(e){var t=[];return Object.keys(e).map(function(a,n){t.push(r.a.createElement(\"span\",{key:a.toString()+\"value\"},r.a.createElement(i.Badge,{key:a.toString()+\"-containerbadge\",className:\"font-weight-normal\"},r.a.createElement(i.Badge,{key:a.toString()+\"-badge\",color:\"info\",className:\"font-weight-normal\",pill:!0},a),e[a])))}),t},t.badgeInfo=function(e){return e?\"UP\"===e.status?r.a.createElement(i.Badge,{color:\"success\"},e.status):r.a.createElement(i.Badge,{color:\"danger\"},e.status):r.a.createElement(i.Badge,{color:\"warning\"},\"?\")},t.instanceInfo=function(e){if(e)return r.a.createElement(i.Table,{striped:!0,responsive:!0},r.a.createElement(\"tbody\",null,e.serviceInstances.map(function(e,a){return r.a.createElement(\"tr\",{key:e.instanceInfo+\"-info\"},r.a.createElement(\"td\",null,r.a.createElement(\"a\",{href:e.uri,target:\"_blank\"},e.uri)),r.a.createElement(\"td\",null,t.badgeInfo(e.instanceInfo)),r.a.createElement(\"td\",null,t.metadata(e.metadata)))})))},t.gatewayRoutes=function(){t.props.isFetching||t.props.gatewayRoutes()},t}return s.c(GatewayPage,e),GatewayPage.prototype.componentDidMount=function(){this.props.gatewayRoutes()},GatewayPage.prototype.render=function(){var e=this,t=this.props,a=t.routes,n=t.isFetching;return r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Gateway\"),r.a.createElement(\"p\",null,r.a.createElement(i.Button,{onClick:this.gatewayRoutes,color:n?\"danger\":\"primary\",disabled:n},r.a.createElement(d.a,{icon:\"sync\"}),\" \",r.a.createElement(u.Translate,{component:\"span\",contentKey:\"health.refresh.button\"},\"Refresh\"))),r.a.createElement(i.Table,{striped:!0,responsive:!0},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",{key:\"header\"},r.a.createElement(\"th\",null,r.a.createElement(u.Translate,{contentKey:\"gateway.routes.url\"},\"URL\")),r.a.createElement(\"th\",null,r.a.createElement(u.Translate,{contentKey:\"gateway.routes.service\"},\"Service\")),r.a.createElement(\"th\",null,r.a.createElement(u.Translate,{contentKey:\"gateway.routes.servers\"},\"Available servers\")))),r.a.createElement(\"tbody\",null,a.map(function(t,a){return r.a.createElement(\"tr\",{key:\"routes-\"+a},r.a.createElement(\"td\",null,t.path),r.a.createElement(\"td\",null,t.serviceId),r.a.createElement(\"td\",null,e.instanceInfo(t)))}))))},GatewayPage}(r.a.Component),ee={gatewayRoutes:j.c},te=Object(c.connect)(function(e){return{routes:e.administration.gateway.routes,account:e.authentication.account,isFetching:e.administration.loading}},ee)(Q);t.default=function(e){var t=e.match;return r.a.createElement(\"div\",null,r.a.createElement(l.a,{path:t.url+\"/user-management\",component:w}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/health\",component:A}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/gateway\",component:te}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/metrics\",component:W}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/docs\",component:$}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/configuration\",component:J}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/audits\",component:Z}),r.a.createElement(l.a,{exact:!0,path:t.url+\"/logs\",component:U}))}}}]);","extractedComments":[]}